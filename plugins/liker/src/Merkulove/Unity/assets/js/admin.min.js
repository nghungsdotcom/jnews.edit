/**
 * Liker
 * Liker helps you rate and like articles on a website and keep track of results.
 * Exclusively on https://1.envato.market/liker
 *
 * @encoding        UTF-8
 * @version         2.3.0
 * @copyright       (C) 2018 - 2023 Merkulove ( https://merkulov.design/ ). All rights reserved.
 * @license         Envato License https://1.envato.market/KYbje
 * @contributors    Nemirovskiy Vitaliy (nemirovskiyvitaliy@gmail.com), Dmitry Merkulov (dmitry@merkulov.design)
 * @support         help@merkulov.design
 **/
!function(e){"use strict";e(document).ready((function(){let t=window.mdpLikerUnity;e(".mdc-drawer__header > a.mdp-plugin-title").on("click",(function(t){t.preventDefault(),e("html, body").animate({scrollTop:0},500)})),e("#mdp-subscribe").on("click",(function(s){s.preventDefault();let n=e("#mdp-subscribe-mail"),a=e("#mdp-subscribe-name"),i=n.parent().data("mdc-index");if(n.val().length>0&&window.MerkulovMaterial[i].valid){const s=document.querySelector(".mdp-subscribe-form-message");a.prop("disabled",!0),n.prop("disabled",!0),e("#mdp-subscribe").prop("disabled",!0),e.ajax({type:"GET",url:t.restBase+"liker/v2/subscribe",crossDomain:!0,data:`name=${a.val()}&mail=${n.val()}`,success:function(e){(e=JSON.parse(e)).status?(s.classList.add("mdp-subscribe-form-message-success"),s.innerHTML=s.dataset.success,setTimeout((function(){s.style.display="none"}),7500)):(s.classList.add("mdp-subscribe-form-message-error"),s.innerHTML=s.dataset.error),s.style.display="block",setTimeout((function(){s.style.display="none"}),7500)},error:function(t){s.style.display="block",s.classList.add("mdp-subscribe-form-message-error"),s.innerHTML=s.dataset.warn,e("#mdp-subscribe-name").prop("disabled",!1),e("#mdp-subscribe-mail").prop("disabled",!1),e("#mdp-subscribe").prop("disabled",!1),setTimeout((function(){s.style.display="none"}),7500)}})}else window.MerkulovMaterial[i].valid=!1}));let s=e("#mdp-updates-btn");s.on("click",(function(n){n.preventDefault(),s.attr("disabled",!0).addClass("mdp-spin").find(".material-icons").text("refresh");let a={action:"check_updates_liker",nonce:t.nonce,checkUpdates:!0};e.post(t.ajaxURL,a,(function(e){e?(console.info("Latest version information updated."),location.reload()):console.warn(e)}),"json").fail((function(e){console.error(e),alert("Looks like an Error has occurred. Please try again later.")})).always((function(){s.attr("disabled",!1).removeClass("mdp-spin").find(".material-icons").text("autorenew")}))})),function(){let t=e("#mdp_custom_css_fld");if(!t.length)return;let s,n=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{};n.codemirror=_.extend({},n.codemirror,{indentUnit:2,tabSize:2,mode:"css"}),s=wp.codeEditor.initialize("mdp_custom_css_fld",n),s.codemirror.on("change",(function(e){s.codemirror.save(),t.change()}))}();let n=e(".mdp-chosen.chosen-select");n.length>0&&n.chosen({width:"100%",search_contains:!0,disable_search_threshold:7,inherit_select_classes:!0,no_results_text:"Oops, nothing found"}),e(".mdp-layout .mdp-nav-dropdown a").on("click",(function(t){t.preventDefault();let s=t.target,n=t.target.parentElement;"IMG"!==t.target.tagName&&(s=t.target.querySelector("img"),n=t.target);const a=n.getAttribute("data-val"),i=s.alt,o=e(".mdp-layout button img");o.attr("src",o.attr("src").replace(/(.*)\/.*(\.svg$)/i,"$1/"+a+"$2")),o.attr("alt",i),e(this).closest("td").find("input").val(a).change(),setTimeout((function(){e(".mdp-layout").removeClass("mdp-open")}),100),e(".mdp-layout .mdp-nav-dropdown a").removeClass("mdp-active"),e(this).addClass("mdp-active")})),e(".mdp-controls-sides").each((function(){const t=e(this).find(".mdp-controls-sides-top input"),s=e(this).find(".mdp-controls-sides-right input"),n=e(this).find(".mdp-controls-sides-bottom input"),a=e(this).find(".mdp-controls-sides-left input"),i=e(this).find(".mdp-controls-sides-lock"),o=e(this).find(".mdp-controls-sides-lock input");let l=JSON.parse(o.val());function r(i){i.each((function(){l?(o.val("true"),e(this).on("change",(function(){t.val(this.value),s.val(this.value),n.val(this.value),a.val(this.value)})),e(this).on("focus",d)):(o.val("false"),e(this).off("change"),e(this).off("focus"))}))}function d(){const i=this,o=setInterval(()=>{t.val(i.value),s.val(i.value),n.val(i.value),a.val(i.value)},100);e(this).on("blur",(function(){clearInterval(o)}))}t.attr("type","number"),s.attr("type","number"),n.attr("type","number"),a.attr("type","number"),r(e(this).find(".mdp-controls-sides-single input")),l&&i.addClass("active-lock"),i.on("click",(function(){i.toggleClass("active-lock"),l=i.hasClass("active-lock"),r(e(this).parent().find(".mdp-controls-sides-single input"))}))}))}))}(jQuery);